@extends('layouts.app')

@section('content')

  {{-- ACF Blocks Content --}}
  @php the_content() @endphp

  @if($related_services && count($related_services) > 0)
    <x-section
      background_color="bg-dark"
      pb="pb-0"
    >
      <div class="container">
        {{-- Separator --}}
        <div class="relative w-full flex items-center justify-center mb-12 lg:mb-16">
          <div class="bg-white/10 w-full h-px absolute top-1/2 -translate-y-1/2 left-0 z-0"></div>
          <div class="bg-dark w-12 h-px absolute top-1/2 block -translate-y-1/2 left-1/2 -translate-x-1/2 z-10"></div>
          <div class="text-primary flex gap-1 items-center justify-center group relative z-20">
            <svg class="h-6 w-auto" viewBox="0 0 30 46" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.4861 0C15.907 2.13333 12.4922 5.33333 9.31509 9.13153C5.9219 14.5874 10.8136 17.0811 16.3248 24.8577C21.692 32.4252 16.5121 44.0793 7.31952 42.7099C12.7875 46.9333 20.2007 47.2432 25.1644 41.1892C38.6364 24.7568 11.9158 15.7333 18.4861 0Z" fill="currentColor"/>
              <path d="M3.88309 30.7027C3.9047 32.5261 5.29512 33.9532 7.06016 33.9604C8.86122 33.9676 10.2516 32.5189 10.266 30.7171C10.2733 28.8793 8.85402 27.4523 7.08177 27.445C5.29512 27.445 3.91191 28.8865 3.88309 30.7027ZM3.08342 24.8793C3.19869 24.8721 3.29955 24.9297 3.3932 25.0018C3.60933 25.1748 3.83266 25.3477 4.04879 25.5135C4.19287 25.6216 4.34416 25.6288 4.50986 25.564C4.7548 25.4631 4.99975 25.3622 5.25189 25.2541C5.30232 25.2324 5.35996 25.2108 5.41039 25.182C5.56168 25.0955 5.63372 24.9586 5.65533 24.7856C5.67695 24.627 5.69856 24.4685 5.72017 24.3099C5.72738 24.2306 5.73458 24.1441 5.74899 24.0649C5.7634 23.9712 5.7706 23.8775 5.82103 23.791C5.90028 23.6613 5.99393 23.5676 6.14522 23.5387C6.23167 23.5243 6.31092 23.5027 6.39737 23.5027C6.77919 23.4811 7.16102 23.445 7.54284 23.4955C7.65811 23.5099 7.77338 23.5099 7.88865 23.5171C7.9823 23.5243 8.06875 23.5387 8.1552 23.5892C8.3137 23.6829 8.40015 23.827 8.42176 24.0072C8.44337 24.1874 8.46499 24.3604 8.4938 24.5405C8.50101 24.6126 8.51542 24.6847 8.51542 24.7568C8.52262 24.9081 8.57305 25.0378 8.69552 25.1315C8.75316 25.1748 8.81799 25.2108 8.89004 25.2396C9.13498 25.3405 9.37992 25.4414 9.61767 25.5495C9.74734 25.6072 9.87702 25.6144 10.0067 25.5784C10.1003 25.5496 10.1724 25.4847 10.2444 25.427C10.4317 25.2829 10.6118 25.1387 10.7992 24.9946C10.9072 24.9081 11.0297 24.8721 11.1666 24.8937C11.2746 24.9081 11.3683 24.9586 11.4547 25.0306C11.7141 25.2468 11.9662 25.4703 12.1896 25.7225C12.276 25.8162 12.3553 25.9171 12.4345 26.0108C12.5138 26.1117 12.6002 26.2054 12.6723 26.3063C12.7803 26.4504 12.8019 26.6162 12.7371 26.782C12.7011 26.8685 12.6507 26.9405 12.593 27.0126C12.4417 27.2144 12.2904 27.4162 12.1464 27.618C12.0455 27.7622 12.0383 27.9135 12.1031 28.0793C12.204 28.3315 12.3048 28.5838 12.4057 28.836C12.4273 28.8937 12.4489 28.9441 12.4777 29.0018C12.557 29.1604 12.6939 29.2324 12.8596 29.2541C13.0181 29.2757 13.1766 29.3045 13.3351 29.3261C13.4143 29.3405 13.5008 29.3405 13.58 29.355C13.6737 29.3694 13.7673 29.3766 13.8466 29.4342C13.9618 29.5135 14.0555 29.6072 14.0771 29.7586C14.0987 29.8883 14.1059 30.0108 14.1203 30.1405C14.1491 30.4072 14.1563 30.6739 14.1419 30.9333C14.1347 31.1495 14.1131 31.3658 14.0915 31.582C14.0771 31.7622 13.9978 31.9135 13.8393 32.0072C13.7817 32.036 13.7241 32.0649 13.6592 32.0721C13.508 32.0937 13.3567 32.1081 13.2054 32.1297C13.0469 32.1514 12.8884 32.173 12.7371 32.209C12.593 32.245 12.4994 32.3459 12.4345 32.4901C12.3337 32.7423 12.2256 32.9874 12.1319 33.2324C12.0887 33.3405 12.0455 33.4559 12.0527 33.5784C12.0599 33.6721 12.0887 33.7586 12.1464 33.8378C12.3121 34.0541 12.4777 34.2775 12.6434 34.5009C12.7299 34.6162 12.7659 34.7387 12.7515 34.8829C12.7371 34.9982 12.6795 35.0991 12.6146 35.1856C12.4994 35.3369 12.3697 35.4811 12.2472 35.6252C12.1752 35.7045 12.1031 35.7694 12.0311 35.8487C11.9302 35.9496 11.8366 36.0505 11.7357 36.1441C11.6349 36.2378 11.5196 36.3315 11.4115 36.418C11.2458 36.5477 11.0585 36.5766 10.8712 36.4901C10.8064 36.4613 10.7487 36.4108 10.6911 36.3676C10.4966 36.2162 10.2949 36.0577 10.1003 35.9063C9.96347 35.7982 9.80498 35.791 9.63928 35.8559C9.39433 35.9568 9.14939 36.0577 8.89724 36.1658C8.83961 36.1874 8.78918 36.2162 8.73875 36.245C8.58746 36.3243 8.51542 36.4613 8.4938 36.627C8.47219 36.7928 8.44337 36.9514 8.42176 37.1171C8.40735 37.2036 8.40735 37.2829 8.39294 37.3694C8.37854 37.4847 8.35692 37.5928 8.28488 37.6937C8.18402 37.8234 8.05435 37.8883 7.90306 37.9027C7.55725 37.9387 7.21865 37.9676 6.87285 37.9532C6.65672 37.9387 6.43339 37.9243 6.21726 37.9027C6.03716 37.8883 5.88587 37.809 5.79221 37.6432C5.7634 37.5928 5.74178 37.5279 5.72738 37.4703C5.70576 37.3189 5.69135 37.1604 5.66974 37.009C5.65533 36.9153 5.64813 36.8288 5.62652 36.7351C5.61211 36.6559 5.6049 36.5766 5.58329 36.5045C5.54006 36.3676 5.45361 36.2811 5.32394 36.2234C5.07899 36.1153 4.82685 36.0072 4.5819 35.8991C4.47384 35.8486 4.35857 35.8054 4.22889 35.8198C4.14244 35.827 4.0632 35.8631 3.99115 35.9135C3.77503 36.0865 3.5589 36.2523 3.33557 36.4252C3.2275 36.5117 3.09783 36.555 2.96095 36.5333C2.84568 36.5189 2.75923 36.4685 2.67278 36.3964C2.42063 36.1874 2.18289 35.9784 1.95956 35.7405C1.77225 35.5387 1.59214 35.3369 1.44085 35.1135C1.31838 34.9477 1.31118 34.7171 1.43365 34.5514C1.57773 34.3423 1.73623 34.1405 1.88751 33.9387C1.93794 33.8739 1.98837 33.8018 2.0244 33.7225C2.08203 33.6144 2.08203 33.4919 2.0388 33.3766C1.92354 33.0739 1.80106 32.7712 1.67139 32.4685C1.59935 32.2883 1.45526 32.1946 1.26795 32.173C1.10946 32.1514 0.950964 32.1225 0.799675 32.1009C0.720428 32.0865 0.633977 32.0865 0.554731 32.0721C0.461076 32.0577 0.36742 32.0504 0.28097 31.9928C0.165702 31.9135 0.0720466 31.8198 0.0576381 31.6757C0.0360254 31.5459 0.0288211 31.4234 0.0144127 31.2937C-0.0144043 31.027 -0.0216085 30.7604 -0.00720006 30.5009C4.18257e-06 30.2847 0.0216169 30.0685 0.0432296 29.8523C0.0576381 29.7441 0.0864551 29.636 0.158497 29.5495C0.237744 29.4486 0.345808 29.3838 0.46828 29.3622C0.612365 29.3405 0.763654 29.3261 0.907738 29.3045C0.994189 29.2901 1.08784 29.2757 1.1743 29.2685C1.25354 29.2541 1.32558 29.2468 1.39763 29.2252C1.54171 29.182 1.63537 29.0883 1.693 28.9441C1.79386 28.6991 1.90192 28.4468 2.00278 28.2018C2.04601 28.0865 2.09644 27.9712 2.08203 27.8414C2.07483 27.7477 2.04601 27.6685 1.98837 27.5892C1.82268 27.3658 1.65698 27.1495 1.49128 26.9261C1.40483 26.8108 1.36881 26.6811 1.38322 26.5369C1.39763 26.4216 1.44806 26.3351 1.51289 26.2486C1.71461 25.9892 1.92354 25.7441 2.16128 25.5135C2.35579 25.3333 2.55751 25.1604 2.75923 24.9946C2.85288 24.9153 2.93213 24.8937 3.06901 24.8937" fill="currentColor"/>
            </svg>
          </div>
        </div>

        <x-content.title
          title="Wat we nog meer doen"
          heading="h2"
          background="bg-dark"
        />

        {{-- Related Services List --}}
        <div class="flex flex-col mt-8 md:mt-12 divide-y divide-white/10">
          @foreach ($related_services as $index => $service)
            <a href="{{ $service['link'] }}" class="group grid grid-cols-12 gap-4 md:gap-8 lg:gap-16 py-8 items-center">
              {{-- Image with icon overlay --}}
              <div class="col-span-12 md:col-span-4">
                <div class="relative aspect-[16/8] rounded-xl overflow-hidden">
                  <div
                    data-scroll
                    data-scroll-speed="-0.05"
                    class="absolute inset-0 w-full h-full z-0"
                  >
                    @if($service['image'])
                      {!! wp_get_attachment_image($service['image'], 'medium_large', false, [
                        'class' => 'w-full h-[calc(100%+10vh)] mt-[-5vh] object-cover transition-transform duration-500 group-hover:scale-105',
                      ]) !!}
                    @else
                      <div class="w-full h-full bg-white/5"></div>
                    @endif
                  </div>
                </div>
              </div>

              {{-- Title & Description --}}
              <div class="col-span-10 md:col-span-6">
                <div class="flex items-center gap-4 md:gap-6 lg:gap-8">{{-- Icon overlay --}}
                  @if($service['icon_url'])
                    <div class="size-16 relative overflow-clip transition-all duration-300 bg-white/5 rounded-lg grid place-items-center z-10 isolate">
                      <x-lordicon
                        :src="$service['icon_url']"
                        trigger="hover"
                        target=".group"
                        stroke=""
                        class="icon-lottie size-6 md:size-8 flex-shrink-0 flex-grow-0"
                        primary="#FFFFFF"
                        secondary="#FFFFFF"
                      />
                    </div>
                  @endif
                  <div class="flex flex-col gap-1">
                    <h3 class="text-xl md:text-2xl lg:text-3xl font-semibold text-white transition-colors duration-300 group-hover:text-primary">
                      {!! $service['title'] !!}
                    </h3>
                    @if($service['short_description'])
                      <p class="text-white text-sm md:text-base line-clamp-2">
                        {{ $service['short_description'] }}
                      </p>
                    @endif
                  </div>
                </div>
              </div>

              {{-- Arrow button --}}
              <div class="col-span-2 md:col-span-2 flex justify-end">
                <x-arrow-button type="outline" size="sm" />
              </div>
            </a>
          @endforeach
        </div>
      </div>
    </x-section>
  @endif

@endsection
